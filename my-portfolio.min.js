'use strict';(function(a){function b(f){a('.js-drawings-container').html(''),f.forEach(function(_ref){var g=_ref.caption,h=_ref.thumbnail_url,i=_ref.link,j=a('.js-drawing-template').clone();j.removeClass('js-drawing-template'),j.find('img').attr('src',h),j.find('p').html(g),j.find('a').attr('href',i),a('.js-drawings-container').append(j)})}if(localStorage){var c=+localStorage.getItem('insta-images-timestamp');if(1.8e6>Date.now()-c){var d=JSON.parse(localStorage.getItem('insta-images'));return window.allImages=d,b(d.slice(0,6)),6<d.length&&a('.js-show-more-btn').show(),!1}localStorage.clear()}a(function(){a.ajax({url:'https://sonia-portfolio-api.herokuapp.com/insta',context:a('.js-drawings-container'),error:function error(){a('.js-drawings-container').html('Problem fetching from api...')}}).done(function(f){var g=f.posts;window.allImages=g,b(g.slice(0,6)),6<g.length&&a('.js-show-more-btn').show(),localStorage&&(localStorage.setItem('insta-images',JSON.stringify(g)),localStorage.setItem('insta-images-timestamp',Date.now()))}),a(document).on('click','.js-show-more-btn',function(f){f.preventDefault(),window.allImages!==void 0&&(b(window.allImages),a('.js-show-more-btn').remove())})})})($);